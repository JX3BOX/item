{"version":3,"sources":["webpack:///./src/views/PlanDetail.vue?f8bd","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread2.js","webpack:///./src/views/PlanDetail.vue?dc02","webpack:///./src/components/Equip.vue?1a5b","webpack:///src/components/Equip.vue","webpack:///./src/components/Equip.vue?ae80","webpack:///./src/components/Equip.vue","webpack:///src/views/PlanDetail.vue","webpack:///./src/views/PlanDetail.vue?e408","webpack:///./src/views/PlanDetail.vue","webpack:///./src/views/PlanDetail.vue?53d7","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptors.js","webpack:///./src/components/Equip.vue?371e","webpack:///./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_defineProperty","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","expression","staticClass","attrs","plan","slot","_v","_s","title","isAuthor","isEditor","on","$event","editPlan","id","deletePlan","_e","description","showAvatar","getUserInfo","default_avatar","authorLink","user_id","date_format","updated","type","_l","item","index","data","el","params","item_id","count","class","Name","list","label","eq","staticRenderFns","userpage","avatar","username","showTime","link","props","computed","uid","methods","components","itemIcon","QRcode","component","WikiPanel","Equip","loading","equipList","AucGenre","AucSubType","plan_id","watch","val","getItemData","getItemPlanID","then","finally","isAuthorUser","goBack","history","converted","_arr","searchItemsID","ids","limit","equipItem","toEquipList","_obj","toEquip","confirmButtonText","cancelButtonText","delItemPlan","bus","iconLink","created","$","DESCRIPTORS","toIndexedObject","getOwnPropertyDescriptorModule","createProperty","stat","sham","descriptor","O","f","result","undefined","fails","nativeGetOwnPropertyDescriptor","FAILS_ON_PRIMITIVES","FORCED","forced","it"],"mappings":"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","file":"js/chunk-52dd4776.bcbb5e68.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PlanDetail.vue?vue&type=style&index=1&lang=less&\"","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"v-plan-view\"},[_c('WikiPanel',{staticClass:\"m-plan-content\",attrs:{\"wiki-post\":_vm.plan,\"showQR\":false}},[_c('template',{slot:\"head-title\"},[_c('i',{staticClass:\"el-icon-tickets\"}),_c('span',{staticClass:\"u-plan-title\"},[_vm._v(\" \"+_vm._s(_vm.plan.title)+\" \")])]),_c('template',{slot:\"head-actions\"},[(_vm.isAuthor || _vm.isEditor)?[_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.editPlan(_vm.plan.id)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"info\",\"icon\":\"el-icon-delete\",\"size\":\"mini\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.deletePlan(_vm.plan.id)}}},[_vm._v(\"删除\")])]:_vm._e()],2),_c('template',{slot:\"body\"},[_c('div',{staticClass:\"m-description m-border\"},[_c('div',{staticClass:\"u-title\"},[_c('span',[_vm._v(\"简介\")])]),_c('div',{staticClass:\"u-desc\"},[_vm._v(_vm._s(_vm.plan.description || \"作者很懒什么也没写 😜\"))]),_c('span',{staticClass:\"u-user\"},[_c('img',{staticClass:\"u-avatar\",attrs:{\"src\":_vm.showAvatar(_vm.getUserInfo(_vm.plan, 'user_avatar')) || _vm.default_avatar,\"alt\":_vm.getUserInfo(_vm.plan, 'display_name')}}),_c('a',{staticClass:\"u-name\",attrs:{\"href\":_vm.authorLink(_vm.plan.user_id)}},[_vm._v(_vm._s(_vm.getUserInfo(_vm.plan, \"display_name\") || \"匿名\"))]),_c('span',{staticClass:\"u-time\"},[_vm._v(\"最后更新于 \"),_c('i',{staticClass:\"el-icon-time\"}),_vm._v(_vm._s(_vm.date_format(_vm.plan.updated)))])])]),(_vm.plan.type == '1')?_c('div',{staticClass:\"m-plan-item\"},_vm._l((_vm.plan.relation),function(item,index){return _c('div',{key:index},[(item.data && item.data.length)?_c('div',{staticClass:\"m-border\"},[(item.title)?_c('div',{staticClass:\"u-title\"},[_vm._v(_vm._s(item.title))]):_vm._e(),_c('div',{staticClass:\"u-content\"},_vm._l((item.data),function(el,key){return _c('router-link',{key:key,staticClass:\"u-item\",attrs:{\"to\":{ name: 'view', params: { item_id: el.id } }}},[_c('span',{staticClass:\"u-img\"},[_c('itemIcon',{attrs:{\"item\":el}}),_c('span',{staticClass:\"u-count\"},[_vm._v(_vm._s(el.count))])],1),_c('span',{staticClass:\"u-name\",class:(\"quality-\" + (el.Quality))},[_vm._v(\" \"+_vm._s(el.Name))])])}),1)]):_vm._e()])}),0):(_vm.plan.type == '2')?_c('div',{staticClass:\"m-border m-plan-equips\"},[_c('Equip',{attrs:{\"data\":_vm.plan}}),_c('div',{staticClass:\"u-content\"},_vm._l((_vm.equipList),function(list,index){return _c('div',{key:index,staticClass:\"u-list\"},_vm._l((list),function(item,key){return _c('div',{key:key,staticClass:\"u-item\"},[_c('span',{staticClass:\"u-title\"},[_vm._v(\" \"+_vm._s(item.label))]),(item.list.length)?_c('div',_vm._l((item.list),function(eq,i){return _c('itemIcon',{key:i,staticClass:\"u-equip\",attrs:{\"has_title\":true,\"item\":eq}})}),1):_c('div',{staticClass:\"u-equip-null\"},[_vm._v(\"- 暂无物品 -\")])])}),0)}),0)],1):_vm._e()])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.plan)?_c('div',{staticClass:\"m-plan-equip\"},[_vm._l((_vm.plan.relation),function(item,label){return _c('div',{key:label,staticClass:\"u-plan-equip\",class:'u-equip-' + label},[(item.length)?[_c('itemIcon',{attrs:{\"item\":item[0]}}),_c('span',{staticClass:\"u-name\",class:(\"quality-\" + (item[0].Quality))},[_vm._v(_vm._s(item[0].Name))])]:_vm._e()],2)}),_c('div',{staticClass:\"u-info\"},[_c('div',{staticClass:\"u-title\"},[_vm._v(_vm._s(_vm.plan.title))]),_c('a',{staticClass:\"u-author\",attrs:{\"href\":_vm.userpage,\"target\":\"_blank\"}},[_c('img',{staticClass:\"u-author-avatar\",attrs:{\"src\":_vm.avatar}}),_c('span',{staticClass:\"u-author-name\"},[_vm._v(_vm._s(_vm.username))])]),_c('div',{staticClass:\"u-time\"},[_c('i',{staticClass:\"el-icon-date\"}),_vm._v(\" \"+_vm._s(_vm.showTime(_vm.plan.updated * 1000))+\" \")]),_c('div',{staticClass:\"u-qrcodebox\"},[_c('QRcode',{attrs:{\"href\":_vm.link,\"s\":120,\"v\":\"static\"}})],1)]),_c('div',{staticClass:\"u-misc\"},[_c('a',{staticClass:\"u-logo\",attrs:{\"href\":_vm.link,\"target\":\"_blank\"}},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"256\",\"height\":\"256\",\"viewBox\":\"0 0 256 256\",\"svg-inline\":'',\"role\":'presentation',\"focusable\":'false',\"tabindex\":'-1'}},[_c('path',{staticClass:\"fil0\",attrs:{\"d\":\"M129.254 5.842l102.93 59.427-31.87 18.4-.982-.566c.994-2.975-.028-5.876-2.019-8.167l-4.238-4.874-4.875-4.238c-4.609-4.007-11.22-2.951-13.087 3.295l-45.859-26.476-48.092 27.766c-3.008-2.576-6.243-4.596-7.711-5.336.556 3.007 1.122 5.906 1.436 8.959l-16.692 9.637-31.87-18.4L129.254 5.842zM236 71.878v118.854l-102.929 59.426v-36.801l71.059-41.026V90.279L236 71.878zm-110.561 178.28l-102.93-59.426V71.878l31.87 18.401v38.385a71.299 71.299 0 00-9.941 3.888c3.476 1.394 6.816 2.952 9.941 4.768v35.011l13.63 7.87c-.448 5.196-.681 10.447-.884 15.81 7.698-.047 17.263-.298 24.365-2.254l33.949 19.6v36.801zM73.64 189.497c.616-12.288.824-17.667 6.46-25.262 5.453 5.878 11.556 10.552 18.453 13.546a44.686 44.686 0 004.644 1.718c-10.202 9.114-15.093 9.273-29.557 9.998zm55.206-82.269a30.61 30.61 0 00-4.996 4.101c-2.432 2.476-4.35 5.302-5.436 8.228l6.691-6.474c1.381-1.335 2.902-4.048 3.741-5.855zm15.54-14.454c-2.664.429-4.875 1.064-6.833 1.861 2.112.623 4.007 1.195 6.817 2.037l.016-3.898zm15.213-7.165l1.942.821 1.516-1.49a56.852 56.852 0 00-6.694-2.647l3.236 3.316zm-7.44-4.519c-3.687-.918-7.615-1.549-11.775-1.863 2.509-1.954 8.004-2.992 11.839-3.871-6.24-2.525-17.137-2.863-26.058-.017-.495 1.506-1.483 3.868-2.685 4.952-1.586 1.43-3.063 2.694-4.373 3.915 10.1-4.479 20.923-4.799 31.527-1.855l1.525-1.261zM82.1 80.589c1.213 7.898-1.998 20.612-2.61 22.231-.613 1.618-1.421 3.479-4.084 10.137-2.664 6.658-2.451 19.463-.66 23.5-4.342-3.055-9.693-4.784-14.795-2.94 8.582 4.379 13.448 14.094 19.147 21.551 13.089 17.129 29.219 25.133 49.926 19.37 10.231-2.847 25.104-22.701 16.335-30.342-15.181 8.569-31.513-2.404-32.155-19.114-.467-12.171 12.786-24.526 25.65-26.107-5.249-1.572-7.043-2.387-13.788-1.313 6.068-4.449 10.642-7.967 21.017-8.998.637-1.192 1.667-2.01 2.687-2.853-12.985-3.363-31.961-2.924-48.429 18.886 4.904-10.82 8.443-15.182 20.698-27.127 3.233-3.151 2.587-7.771 2.183-10.966-3.448 5.663-9.754 8.745-18.349 12.542-6.518 2.879-12.428 7.647-16.78 13.669-1.091-4.665-2.175-8.865-5.993-12.126zm62.075 89.198a95.605 95.605 0 004.608-2.046c-4.35 7.066-14.86 14.943-33.852 17.435 20.304 5.345 39.698 2.31 51.914-10.359-.979 1.719-1.998 3.546-3.118 5.174 14.984-8.658 34.487-34.111 20.514-58.638 2.36 1.92 4.335 4.253 6.008 7.432.11-11.661-3.429-22.244-10.167-30.625l-3.947 4.018 7.299 7.124-5.446 6.584c-2.667 3.225-4.416 3.231-7.72 3.242l-4.616.018c-.087 1.544-.742 2.979-1.882 4.027l-.072 3.376c-.069 3.225-1.915 6.394-5.122 7.359l.001.005c-3.864 1.15-7.022 3.497-9.786 6.353 1.943 1.713 3.186 3.805 3.841 6.157 1.06 3.809.418 8.087-1.322 12.281-1.663 4.008-4.251 7.851-7.135 11.083zm-25.774-43.979l9.782-9.463c1.993-1.929 4.901-6.745 5.964-10.318.226-.761 1.197-1.434 2.541-1.463l6.485-.139.357-1.122c.196-.616.459-.706 1.011-.709l4.176-.02a.392.392 0 00.379-.39l.037-9.184c.007-1.797-.026-2.719 1.393-3.893l2.944-2.433 7.412 7.594 18.945-18.61 1.185-4.634c.463-1.81 1.741-1.749 3.146-.528l4.538 3.945 3.945 4.538c1.22 1.405 1.282 2.683-.528 3.146l-4.634 1.185-18.611 18.945 7.595 7.412-2.434 2.943c-1.173 1.42-2.096 1.387-3.892 1.394l-9.184.037a.39.39 0 00-.39.379l-.02 4.176c-.003.552-.093.815-.709 1.011l-1.122.358-.139 6.484c-.029 1.344-.703 2.315-1.463 2.541-3.573 1.063-8.389 3.971-10.318 5.964l-5.142 5.316c-5.88 2.918-11.824 2.547-17.096-2.205-3.029-2.731-5.197-6.561-5.943-10.779a20.577 20.577 0 01-.21-1.478z\"}})]),_c('span',[_vm._v(\"配装ID:\"+_vm._s(_vm.plan.id))])])])],2):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n\t<div class=\"m-plan-equip\" v-if=\"plan\">\n\t\t<div class=\"u-plan-equip\" :class=\"'u-equip-' + label\" v-for=\"(item, label) in plan.relation\" :key=\"label\">\n\t\t\t<template v-if=\"item.length\">\n\t\t\t\t<itemIcon :item=\"item[0]\" />\n\t\t\t\t<span class=\"u-name\" :class=\"`quality-${item[0].Quality}`\">{{ item[0].Name }}</span>\n\t\t\t</template>\n\t\t</div>\n\t\t<div class=\"u-info\">\n\t\t\t<div class=\"u-title\">{{ plan.title }}</div>\n\t\t\t<a class=\"u-author\" :href=\"userpage\" target=\"_blank\">\n\t\t\t\t<img :src=\"avatar\" class=\"u-author-avatar\" />\n\t\t\t\t<span class=\"u-author-name\">{{ username }}</span>\n\t\t\t</a>\n\t\t\t<div class=\"u-time\">\n\t\t\t\t<i class=\"el-icon-date\"></i>\n\t\t\t\t{{ showTime(plan.updated * 1000) }}\n\t\t\t</div>\n\t\t\t<div class=\"u-qrcodebox\">\n\t\t\t\t<QRcode :href=\"link\" :s=\"120\" v=\"static\" />\n\t\t\t</div>\n\t\t</div>\n\t\t<div class=\"u-misc\">\n\t\t\t<a class=\"u-logo\" :href=\"link\" target=\"_blank\">\n\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"256\" height=\"256\" viewBox=\"0 0 256 256\" v-bind:svg-inline=\"''\" v-bind:role=\"'presentation'\" v-bind:focusable=\"'false'\" v-bind:tabindex=\"'-1'\"><path class=\"fil0\" d=\"M129.254 5.842l102.93 59.427-31.87 18.4-.982-.566c.994-2.975-.028-5.876-2.019-8.167l-4.238-4.874-4.875-4.238c-4.609-4.007-11.22-2.951-13.087 3.295l-45.859-26.476-48.092 27.766c-3.008-2.576-6.243-4.596-7.711-5.336.556 3.007 1.122 5.906 1.436 8.959l-16.692 9.637-31.87-18.4L129.254 5.842zM236 71.878v118.854l-102.929 59.426v-36.801l71.059-41.026V90.279L236 71.878zm-110.561 178.28l-102.93-59.426V71.878l31.87 18.401v38.385a71.299 71.299 0 00-9.941 3.888c3.476 1.394 6.816 2.952 9.941 4.768v35.011l13.63 7.87c-.448 5.196-.681 10.447-.884 15.81 7.698-.047 17.263-.298 24.365-2.254l33.949 19.6v36.801zM73.64 189.497c.616-12.288.824-17.667 6.46-25.262 5.453 5.878 11.556 10.552 18.453 13.546a44.686 44.686 0 004.644 1.718c-10.202 9.114-15.093 9.273-29.557 9.998zm55.206-82.269a30.61 30.61 0 00-4.996 4.101c-2.432 2.476-4.35 5.302-5.436 8.228l6.691-6.474c1.381-1.335 2.902-4.048 3.741-5.855zm15.54-14.454c-2.664.429-4.875 1.064-6.833 1.861 2.112.623 4.007 1.195 6.817 2.037l.016-3.898zm15.213-7.165l1.942.821 1.516-1.49a56.852 56.852 0 00-6.694-2.647l3.236 3.316zm-7.44-4.519c-3.687-.918-7.615-1.549-11.775-1.863 2.509-1.954 8.004-2.992 11.839-3.871-6.24-2.525-17.137-2.863-26.058-.017-.495 1.506-1.483 3.868-2.685 4.952-1.586 1.43-3.063 2.694-4.373 3.915 10.1-4.479 20.923-4.799 31.527-1.855l1.525-1.261zM82.1 80.589c1.213 7.898-1.998 20.612-2.61 22.231-.613 1.618-1.421 3.479-4.084 10.137-2.664 6.658-2.451 19.463-.66 23.5-4.342-3.055-9.693-4.784-14.795-2.94 8.582 4.379 13.448 14.094 19.147 21.551 13.089 17.129 29.219 25.133 49.926 19.37 10.231-2.847 25.104-22.701 16.335-30.342-15.181 8.569-31.513-2.404-32.155-19.114-.467-12.171 12.786-24.526 25.65-26.107-5.249-1.572-7.043-2.387-13.788-1.313 6.068-4.449 10.642-7.967 21.017-8.998.637-1.192 1.667-2.01 2.687-2.853-12.985-3.363-31.961-2.924-48.429 18.886 4.904-10.82 8.443-15.182 20.698-27.127 3.233-3.151 2.587-7.771 2.183-10.966-3.448 5.663-9.754 8.745-18.349 12.542-6.518 2.879-12.428 7.647-16.78 13.669-1.091-4.665-2.175-8.865-5.993-12.126zm62.075 89.198a95.605 95.605 0 004.608-2.046c-4.35 7.066-14.86 14.943-33.852 17.435 20.304 5.345 39.698 2.31 51.914-10.359-.979 1.719-1.998 3.546-3.118 5.174 14.984-8.658 34.487-34.111 20.514-58.638 2.36 1.92 4.335 4.253 6.008 7.432.11-11.661-3.429-22.244-10.167-30.625l-3.947 4.018 7.299 7.124-5.446 6.584c-2.667 3.225-4.416 3.231-7.72 3.242l-4.616.018c-.087 1.544-.742 2.979-1.882 4.027l-.072 3.376c-.069 3.225-1.915 6.394-5.122 7.359l.001.005c-3.864 1.15-7.022 3.497-9.786 6.353 1.943 1.713 3.186 3.805 3.841 6.157 1.06 3.809.418 8.087-1.322 12.281-1.663 4.008-4.251 7.851-7.135 11.083zm-25.774-43.979l9.782-9.463c1.993-1.929 4.901-6.745 5.964-10.318.226-.761 1.197-1.434 2.541-1.463l6.485-.139.357-1.122c.196-.616.459-.706 1.011-.709l4.176-.02a.392.392 0 00.379-.39l.037-9.184c.007-1.797-.026-2.719 1.393-3.893l2.944-2.433 7.412 7.594 18.945-18.61 1.185-4.634c.463-1.81 1.741-1.749 3.146-.528l4.538 3.945 3.945 4.538c1.22 1.405 1.282 2.683-.528 3.146l-4.634 1.185-18.611 18.945 7.595 7.412-2.434 2.943c-1.173 1.42-2.096 1.387-3.892 1.394l-9.184.037a.39.39 0 00-.39.379l-.02 4.176c-.003.552-.093.815-.709 1.011l-1.122.358-.139 6.484c-.029 1.344-.703 2.315-1.463 2.541-3.573 1.063-8.389 3.971-10.318 5.964l-5.142 5.316c-5.88 2.918-11.824 2.547-17.096-2.205-3.029-2.731-5.197-6.561-5.943-10.779a20.577 20.577 0 01-.21-1.478z\"/></svg>\n\t\t\t\t<span>配装ID:{{ plan.id }}</span>\n\t\t\t</a>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport QRcode from \"@jx3box/jx3box-common-ui/src/interact/QRcode.vue\";\nimport itemIcon from \"@/components/ItemIcon.vue\";\nimport { authorLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { showTime } from \"@jx3box/jx3box-common/js/moment.js\";\nimport { __Root, default_avatar } from \"@jx3box/jx3box-common/data/jx3box.json\";\n\nexport default {\n\tname: \"equip\",\n\tprops: [\"data\"],\n\tdata: function () {\n\t\treturn {};\n\t},\n\tcomputed: {\n\t\tplan: function () {\n\t\t\treturn this.data;\n\t\t},\n\t\tavatar: function () {\n\t\t\treturn this.plan?.user_info?.user_avatar || default_avatar;\n\t\t},\n\t\tusername: function () {\n\t\t\treturn this.plan?.user_info?.display_name || \"匿名\";\n\t\t},\n\t\tuid: function () {\n\t\t\treturn this.plan.user_id;\n\t\t},\n\t\tuserpage: function () {\n\t\t\treturn authorLink(this.uid);\n\t\t},\n\t\tlink: function () {\n\t\t\treturn this.plan ? __Root + `item/#/plan_view/${this.plan.id}` : \"\";\n\t\t},\n\t},\n\tmethods: {\n\t\tshowTime,\n\t},\n\tcomponents: {\n\t\titemIcon,\n\t\tQRcode,\n\t},\n};\n</script>\n\n<style lang=\"less\">\n@import \"../assets/css/components/equip.less\";\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Equip.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Equip.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Equip.vue?vue&type=template&id=61e19c7e&\"\nimport script from \"./Equip.vue?vue&type=script&lang=js&\"\nexport * from \"./Equip.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Equip.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n\t<div class=\"v-plan-view\" v-loading=\"loading\">\n\t\t<!-- 返回 & 收藏 -->\n\t\t<!-- <div class=\"m-plan-navigation\">\n\t\t\t<el-button class=\"u-goback\" size=\"medium\" icon=\"el-icon-arrow-left\" @click=\"goBack\" plain>返回列表</el-button>\n\t\t</div> -->\n\t\t<!-- 内容展示 -->\n\t\t<WikiPanel class=\"m-plan-content\" :wiki-post=\"plan\" :showQR=\"false\">\n\t\t\t<!-- 头部标题 -->\n\t\t\t<template slot=\"head-title\">\n\t\t\t\t<i class=\"el-icon-tickets\"></i>\n\t\t\t\t<span class=\"u-plan-title\"> {{ plan.title }} </span>\n\t\t\t</template>\n\t\t\t<!-- 编辑 & 删除 & 收藏 -->\n\t\t\t<template slot=\"head-actions\">\n                <template v-if=\"isAuthor || isEditor\">\n                    <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" plain @click=\"editPlan(plan.id)\">编辑</el-button>\n                    <el-button type=\"info\" icon=\"el-icon-delete\" size=\"mini\" plain @click=\"deletePlan(plan.id)\">删除</el-button>\n                </template>\n\t\t\t\t<!-- <Fav post-type=\"item_plan\" :post-id=\"plan.id\" :post-title=\"plan && plan.title\" /> -->\n\t\t\t</template>\n\t\t\t<!-- 详细内容 -->\n\t\t\t<template slot=\"body\">\n\t\t\t\t<!-- 内容备注 -->\n\t\t\t\t<div class=\"m-description m-border\">\n\t\t\t\t\t<div class=\"u-title\">\n\t\t\t\t\t\t<span>简介</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"u-desc\">{{ plan.description || \"作者很懒什么也没写 😜\" }}</div>\n\t\t\t\t\t<span class=\"u-user\">\n\t\t\t\t\t\t<img class=\"u-avatar\" :src=\"showAvatar(getUserInfo(plan, 'user_avatar')) || default_avatar\" :alt=\"getUserInfo(plan, 'display_name')\" />\n\t\t\t\t\t\t<a class=\"u-name\" :href=\"authorLink(plan.user_id)\">{{ getUserInfo(plan, \"display_name\") || \"匿名\" }}</a>\n\t\t\t\t\t\t<span class=\"u-time\">最后更新于 <i class=\"el-icon-time\"></i>{{ date_format(plan.updated) }}</span>\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<!-- 物品 -->\n\t\t\t\t<div class=\"m-plan-item\" v-if=\"plan.type == '1'\">\n\t\t\t\t\t<div v-for=\"(item, index) in plan.relation\" :key=\"index\">\n\t\t\t\t\t\t<div class=\"m-border\" v-if=\"item.data && item.data.length\">\n\t\t\t\t\t\t\t<div class=\"u-title\" v-if=\"item.title\">{{ item.title }}</div>\n\t\t\t\t\t\t\t<div class=\"u-content\">\n\t\t\t\t\t\t\t\t<router-link class=\"u-item\" v-for=\"(el, key) in item.data\" :key=\"key\" :to=\"{ name: 'view', params: { item_id: el.id } }\">\n\t\t\t\t\t\t\t\t\t<span class=\"u-img\">\n\t\t\t\t\t\t\t\t\t\t<itemIcon :item=\"el\" />\n\t\t\t\t\t\t\t\t\t\t<span class=\"u-count\">{{ el.count }}</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<span class=\"u-name\" :class=\"`quality-${el.Quality}`\"> {{ el.Name }}</span>\n\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<!-- 装备 -->\n\t\t\t\t<div class=\"m-border m-plan-equips\" v-else-if=\"plan.type == '2'\">\n\t\t\t\t\t<Equip :data=\"plan\" />\n\t\t\t\t\t<div class=\"u-content\">\n\t\t\t\t\t\t<div class=\"u-list\" v-for=\"(list, index) in equipList\" :key=\"index\">\n\t\t\t\t\t\t\t<div class=\"u-item\" v-for=\"(item, key) in list\" :key=\"key\">\n\t\t\t\t\t\t\t\t<span class=\"u-title\"> {{ item.label }}</span>\n\t\t\t\t\t\t\t\t<div v-if=\"item.list.length\">\n\t\t\t\t\t\t\t\t\t<itemIcon class=\"u-equip\" v-for=\"(eq, i) in item.list\" :key=\"i\" :has_title=\"true\" :item=\"eq\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div v-else class=\"u-equip-null\">- 暂无物品 -</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</WikiPanel>\n\t</div>\n</template>\n<script>\nimport { getItemPlanID, delItemPlan, searchItemsID } from \"../service/item_plan.js\";\nimport itemIcon from \"@/components/ItemIcon.vue\";\nimport Equip from \"@/components/Equip.vue\";\nimport WikiPanel from \"@jx3box/jx3box-common-ui/src/wiki/WikiPanel\";\nimport { iconLink } from \"@jx3box/jx3box-common/js/utils\";\nimport { __Links, default_avatar } from \"@jx3box/jx3box-common/data/jx3box.json\";\nimport { showAvatar, authorLink, ts2str } from \"@jx3box/jx3box-common/js/utils\";\nimport User from \"@jx3box/jx3box-common/js/user\";\nimport bus from \"../bus.js\";\n\nexport default {\n\tname: \"PlanDetail\",\n\tprops: [],\n\tcomponents: { WikiPanel, itemIcon, Equip },\n\tdata: function () {\n\t\treturn {\n\t\t\tloading: false,\n\n\t\t\tisAuthor: false,\n\t\t\tplan: \"\",\n\t\t\tdate_format: ts2str,\n\t\t\tdefault_avatar,\n\t\t\tequipList: [\n\t\t\t\t[\n\t\t\t\t\t{ title: \"melee_weapon\", label: \"武器\", AucGenre: 1, list: [] },\n\t\t\t\t\t{ title: \"range_weapon\", label: \"暗器\", AucGenre: 2, list: [] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t{ title: \"helm\", label: \"帽子\", AucGenre: 3, AucSubType: 2, list: [] },\n\t\t\t\t\t{ title: \"chest\", label: \"上衣\", AucGenre: 3, AucSubType: 1, list: [] },\n\t\t\t\t\t{ title: \"waist\", label: \"腰带\", AucGenre: 3, AucSubType: 3, list: [] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t{ title: \"bangle\", label: \"护腕\", AucGenre: 3, AucSubType: 6, list: [] },\n\t\t\t\t\t{ title: \"pants\", label: \"下装\", AucGenre: 3, AucSubType: 4, list: [] },\n\t\t\t\t\t{ title: \"boots\", label: \"鞋子\", AucGenre: 3, AucSubType: 5, list: [] },\n\t\t\t\t],\n\t\t\t\t[\n\t\t\t\t\t{ title: \"amulet\", label: \"项链\", AucGenre: 4, AucSubType: 1, list: [] },\n\t\t\t\t\t{ title: \"pendant\", label: \"腰坠\", AucGenre: 4, AucSubType: 3, list: [] },\n\t\t\t\t\t{ title: \"ring_1\", label: \"戒指\", AucGenre: 4, AucSubType: 2, list: [] },\n\t\t\t\t\t{ title: \"ring_2\", label: \"戒指\", AucGenre: 4, AucSubType: 2, list: [] },\n\t\t\t\t],\n\t\t\t],\n\t\t};\n\t},\n\tcomputed: {\n\t\tplan_id() {\n\t\t\treturn this.$route.params.plan_id;\n\t\t},\n\t\ttype() {\n\t\t\treturn 1;\n\t\t},\n        isEditor() {\n            return User.isEditor();\n        },\n\t},\n    watch: {\n        plan_id(val) {\n            val && this.getItemData();\n        }\n    },\n\tmethods: {\n\t\t// 获取数据\n\t\tgetItemData() {\n            this.loading = true;\n\t\t\tgetItemPlanID(this.plan_id)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tthis.converted(res);\n\t\t\t\t\tif (res.type == 2) this.toEquipList(res.relation);\n\t\t\t\t\tthis.isAuthorUser(res.user_id);\n\t\t\t\t})\n\t\t\t\t.finally(() => {\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t});\n\t\t},\n\t\t// 判断用户权限\n\t\tisAuthorUser(user_id) {\n\t\t\tlet _user = User.getInfo();\n\t\t\tif (_user.uid == user_id) this.isAuthor = true;\n\t\t},\n\t\t// 返回列表\n\t\tgoBack() {\n\t\t\thistory.length ? this.$router.go(-1) : this.$router.push({ name: \"plan_list\" });\n\t\t},\n\t\t// 兼容旧数据,转换数据\n\t\tconverted(data) {\n\t\t\tif (data.type == 1) {\n\t\t\t\tdata.relation = data.relation.map((item) => {\n\t\t\t\t\titem.data = item.data.map((el) => {\n\t\t\t\t\t\tif (typeof el == \"string\") el = { id: el, count: 1 };\n\t\t\t\t\t\tif (typeof el == \"object\") el = { id: el.id, count: el.count };\n\t\t\t\t\t\treturn el;\n\t\t\t\t\t});\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\n\t\t\t\t// 统一获取物品信息\n\t\t\t\tlet _arr = [];\n\t\t\t\tdata.relation.forEach((list) => {\n\t\t\t\t\tlist.data.forEach((el) => {\n\t\t\t\t\t\t_arr.push(el.id);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tsearchItemsID({ ids: _arr, limit: _arr.length }).then((res) => {\n\t\t\t\t\tlet items = res.data;\n\n\t\t\t\t\tdata.relation = data.relation.map((item) => {\n\t\t\t\t\t\titem.data = item.data.map((el) => {\n\t\t\t\t\t\t\tlet a = items.filter((k) => {\n\t\t\t\t\t\t\t\tif (k.id == el.id) return { ...k, ...el };\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tel = { ...el, ...a[0] };\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn item;\n\t\t\t\t\t});\n\t\t\t\t\tthis.plan = data;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tdata.relation = this.equipItem(data.relation);\n\t\t\t\tlet _arr = [];\n\t\t\t\tfor (const key in data.relation) {\n\t\t\t\t\t_arr.push(...data.relation[key]);\n\t\t\t\t}\n\t\t\t\tsearchItemsID({ ids: _arr, limit: _arr.length }).then((res) => {\n\t\t\t\t\tlet items = res.data;\n\t\t\t\t\tfor (const key in data.relation) {\n\t\t\t\t\t\tdata.relation[key] = data.relation[key].map((el) => {\n\t\t\t\t\t\t\tel = items.filter((k) => {\n\t\t\t\t\t\t\t\tif (el == k.id) return k;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn el[0];\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tthis.plan = data;\n\t\t\t\t\tthis.equipList.map((list) => {\n\t\t\t\t\t\tlist.map((item) => {\n\t\t\t\t\t\t\titem.list = item.list.map((el) => {\n\t\t\t\t\t\t\t\tel = items.filter((k) => {\n\t\t\t\t\t\t\t\t\tif (k.id == el) return k;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn el[0];\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn item;\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn list;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t// 将装备object转换为string\n\t\tequipItem(data) {\n\t\t\tfor (const key in data) {\n\t\t\t\tdata[key] = data[key].map((item) => {\n\t\t\t\t\tif (typeof item == \"object\") item = item.id;\n\t\t\t\t\treturn item;\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\t// 装备分组\n\t\ttoEquipList(_obj) {\n\t\t\tthis.equipList.map((list) => {\n\t\t\t\tlist.map((el) => {\n\t\t\t\t\tif (_obj.hasOwnProperty(el.title)) {\n\t\t\t\t\t\tel.list = _obj[el.title];\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\t// 装备提交数据转换\n\t\ttoEquip() {\n\t\t\tlet obj = {};\n\t\t\tthis.equipList.forEach((list) => {\n\t\t\t\tlist.forEach((el) => {\n\t\t\t\t\tobj[el.title] = el.list;\n\t\t\t\t});\n\t\t\t});\n\t\t\tobj = this.equipItem(obj);\n\t\t\tthis.plan.relation = obj;\n\t\t},\n\t\t// 编辑清单\n\t\teditPlan(plan_id) {\n\t\t\tthis.$router.push({ name: \"plan_edit\", params: { plan_id } });\n\t\t},\n\t\t// 删除清单\n\t\tdeletePlan(plan_id) {\n\t\t\tthis.$confirm(\"确认是否删除该物品清单？\", \"提示\", {\n\t\t\t\tconfirmButtonText: \"确定\",\n\t\t\t\tcancelButtonText: \"取消\",\n\t\t\t\ttype: \"warning\",\n\t\t\t}).then(() => {\n\t\t\t\tdelItemPlan(plan_id)\n\t\t\t\t\t.then((res) => {\n\t\t\t\t\t\tthis.$message.success('删除成功');\n                        bus.emit('plan_list_refresh');\n\t\t\t\t\t\tthis.$router.push({ name: \"plan_list\" });\n\t\t\t\t\t})\n\t\t\t});\n\t\t},\n\n\t\ticonLink,\n\t\tshowAvatar,\n\t\tauthorLink,\n\t\tgetUserInfo: function (plan, key) {\n\t\t\treturn plan?.user_info?.[key];\n\t\t},\n\t},\n\tcreated: function () {\n\t\tthis.getItemData();\n\t},\n};\n</script>\n<style lang=\"less\" scoped>\n@import \"../assets/css/views/plan_detail.less\";\n</style>\n<style lang=\"less\">\n.m-panel-head{\n    .z(1);\n}\n.v-plan-view .m-item-icon {\n\t.u-item-icon {\n\t\t.size(48px);\n\t\tmax-height: 48px;\n\t\t.z(0);\n\t}\n\t.u-border {\n\t\t.z(1);\n\t}\n\t.u-border-quest {\n\t\t.z(2);\n\t}\n}\n\n.m-item-icon-popup {\n\tpadding: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PlanDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PlanDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlanDetail.vue?vue&type=template&id=17d246ca&scoped=true&\"\nimport script from \"./PlanDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./PlanDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlanDetail.vue?vue&type=style&index=0&id=17d246ca&lang=less&scoped=true&\"\nimport style1 from \"./PlanDetail.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"17d246ca\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./PlanDetail.vue?vue&type=style&index=0&id=17d246ca&lang=less&scoped=true&\"","var $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar ownKeys = require('../internals/own-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar getOwnPropertyDescriptorModule = require('../internals/object-get-own-property-descriptor');\nvar createProperty = require('../internals/create-property');\n\n// `Object.getOwnPropertyDescriptors` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptors\n$({ target: 'Object', stat: true, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIndexedObject(object);\n    var getOwnPropertyDescriptor = getOwnPropertyDescriptorModule.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var index = 0;\n    var key, descriptor;\n    while (keys.length > index) {\n      descriptor = getOwnPropertyDescriptor(O, key = keys[index++]);\n      if (descriptor !== undefined) createProperty(result, key, descriptor);\n    }\n    return result;\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../node_modules/vue-svg-inline-loader/dist/index.min.js!./Equip.vue?vue&type=style&index=0&lang=less&\"","var $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar nativeGetOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar DESCRIPTORS = require('../internals/descriptors');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeGetOwnPropertyDescriptor(1); });\nvar FORCED = !DESCRIPTORS || FAILS_ON_PRIMITIVES;\n\n// `Object.getOwnPropertyDescriptor` method\n// https://tc39.es/ecma262/#sec-object.getownpropertydescriptor\n$({ target: 'Object', stat: true, forced: FORCED, sham: !DESCRIPTORS }, {\n  getOwnPropertyDescriptor: function getOwnPropertyDescriptor(it, key) {\n    return nativeGetOwnPropertyDescriptor(toIndexedObject(it), key);\n  }\n});\n"],"sourceRoot":""}