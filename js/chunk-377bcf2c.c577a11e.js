(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-377bcf2c"],{"2d41":function(t,e,a){},"53d7":function(t,e,a){},"67cd":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"m-plan-view"}},[a("div",{staticClass:"c-plan"},[t.plan&&"{}"!==JSON.stringify(t.plan)?a("div",{staticClass:"m-module m-plan"},[a("div",{staticClass:"m-head"},[a("h4",{staticClass:"u-title"},[1==t.plan.type?a("span",{staticClass:"u-type",staticStyle:{"background-color":"#409EFF"}},[t._v("道具清单")]):t._e(),2==t.plan.type?a("span",{staticClass:"u-type",staticStyle:{"background-color":"#F0787A"}},[t._v("装备清单")]):t._e(),a("span",{domProps:{textContent:t._s(t.plan.title)}})]),t.user.id==t.plan.user_id||t.user.group>=64?a("div",{staticClass:"u-other"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(e){return t.edit_plan(t.plan.id)}}},[t._v("编辑")]),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(e){return t.delete_plan(t.plan.id)}}},[t._v("删除")])],1):t._e()]),a("div",{staticClass:"m-body"},[t.plan.description?a("el-alert",{staticClass:"u-plan-description",attrs:{title:t.plan.description,type:"warning",closable:!1}}):t._e(),1==t.plan.type?a("ul",{staticClass:"m-positions"},t._l(t.plan.relation_items,(function(e,s){return a("li",{key:s,staticClass:"m-position"},[e.title?a("h5",{staticClass:"u-title",domProps:{textContent:t._s(e.title)}},[a("span",{domProps:{textContent:t._s(e.title)}})]):t._e(),a("ul",{staticClass:"m-items"},[t._l(e.data,(function(t,e){return a("li",{key:e},[a("jx3-item-simple",{attrs:{item:t}})],1)})),e.data&&e.data.length?t._e():a("li",{staticClass:"u-items-null"},[t._v("暂无物品")])],2)])})),0):t._e(),2==t.plan.type?a("ul",{staticClass:"m-positions"},t._l(t.positions,(function(e,s){return a("li",{key:s,staticClass:"m-position"},[e.label?a("h5",{staticClass:"u-title"},[a("span",{domProps:{textContent:t._s(e.label)}})]):t._e(),a("ul",{staticClass:"m-items"},[t._l(t.plan.relation_items[s],(function(e,s){return a("li",{key:s},[a("jx3-item-simple",{attrs:{item:e}}),0==s?a("span",{staticClass:"u-main"},[t._v("主")]):t._e()],1)})),t.plan.relation_items[s]&&t.plan.relation_items[s].length?t._e():a("li",{staticClass:"u-items-null"},[t._v("暂无物品")])],2)])})),0):t._e(),a("div",{staticClass:"m-other"},[t.plan.user_avatar?a("div",{staticClass:"avatar"},[a("img",{attrs:{src:t.plan.user_avatar}})]):t._e(),a("div",{staticClass:"done",domProps:{textContent:t._s(t.plan.user_nickname)}}),a("div",{staticClass:"updated",domProps:{textContent:t._s("最后编辑于 "+t.$options.filters.date_format(t.plan.updated))}})])],1)]):a("el-alert",{staticClass:"m-plan-null",attrs:{center:"",title:"暂无相关物品清单信息",type:"info",closable:!1}})],1),a("ins",{staticClass:"adsbygoogle",staticStyle:{display:"block","max-width":"100%",overflow:"hidden",margin:"10px"},attrs:{"data-ad-client":"ca-pub-4388499329141185","data-ad-slot":"1787190081","data-ad-format":"auto","data-full-width-responsive":"true"}})])},i=[],n=(a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.item?a("el-popover",{attrs:{placement:"right-end","popper-class":"m-simple-item-popup",width:"auto","visible-arrow":!1,trigger:"hover",transition:"none","close-delay":0},on:{show:function(e){t.item_id=t.item.id}},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[a("div",{staticClass:"m-simple-item",attrs:{slot:"reference"},on:{mousedown:function(e){t.visible=!1}},slot:"reference"},[a("img",{staticClass:"u-icon",attrs:{src:t.icon_url(t.item.IconID),alt:"`IconID:${item.IconID}`"}}),a("span",{staticClass:"u-name",style:{color:t.item_color(t.item.Quality)},domProps:{textContent:t._s(t.item.Name)}}),a("span",{staticClass:"u-uiid fr",domProps:{textContent:t._s("ID: "+t.item.id)}})]),a("jx3-item",{attrs:{item_id:t.item_id}})],1):t._e()}),l=[],o=a("c7fa"),c=a("4b8c"),r=a("1d18"),p={name:"ItemSimple",props:["item"],data:function(){return{visible:!1,item_id:null}},methods:{icon_url:c["a"],item_color:r["a"]},components:{"jx3-item":o["a"]}},u=p,d=(a("ecd9"),a("77c4"),a("2877")),m=Object(d["a"])(u,n,l,!1,null,"3278bbf8",null),_=m.exports,f=a("c9d2"),b=a.n(f),h=a("208a"),v=a("ee8f"),C=v.JX3BOX,y={name:"PlanDetail",components:{"jx3-item-simple":_},data:function(){return{user:b.a.getInfo(),plan:null,positions:{1:{label:"武器"},2:{label:"暗器"},"3_1":{label:"上衣"},"3_2":{label:"帽子"},"3_3":{label:"腰带"},"3_4":{label:"下装"},"3_5":{label:"鞋子"},"3_6":{label:"护腕"},"4_1":{label:"项链"},"4_3":{label:"腰坠"},"4_2_1":{label:"戒指"},"4_2_2":{label:"戒指"}}}},watch:{"$route.params.plan_id":{immediate:!0,handler:function(){var t=this;this.$route.params.plan_id&&Object(h["b"])(this.$route.params.plan_id).then((function(e){e=e.data,200===e.code?t.plan=e.data.plan:t.$message.error("获取物品清单异常，请联系管理员")}))}}},methods:{publish_url:function(t){return"".concat(C.__Links.dashboard.publish,"#/").concat(t)},edit_plan:function(t){location.href=this.publish_url("item/plan/".concat(t))},delete_plan:function(t){var e=this;this.$confirm("确认是否删除该物品清单？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(h["a"])(t).then((function(t){t=t.data,200===t.code?(e.$message.success(t.message),Object(h["c"])(),e.$router.push({name:"home"})):e.$message.error(t.message)}))}))}}},g=y,x=(a("92e9"),Object(d["a"])(g,s,i,!1,null,"8f4259d0",null));e["default"]=x.exports},7184:function(t,e,a){},"77c4":function(t,e,a){"use strict";a("53d7")},"92e9":function(t,e,a){"use strict";a("7184")},ecd9:function(t,e,a){"use strict";a("2d41")}}]);
//# sourceMappingURL=chunk-377bcf2c.c577a11e.js.map